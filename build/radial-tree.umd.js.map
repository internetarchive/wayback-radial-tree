{"version":3,"file":"radial-tree.umd.js","sources":["../src/js/processing/hierarchy.js","../src/js/processing/surt.js","../src/js/processing/timemap.js","../src/js/rendering/tree.js","../src/js/rendering/year-button-container.js","../src/js/rendering/year-button.js","../src/js/index.js","../src/js/rendering/container.js"],"sourcesContent":["import { surtToUrl } from './surt';\n\n/**\n * @private\n *\n * traverse in depth from parent by path\n *\n * @param parent is current node\n * @param path is array of names\n * @returns {*}\n */\nfunction buildHierarchInDepth (parent, path) {\n  if (!path || path.length === 0) {\n    return;\n  }\n\n  const [name, ...rest] = path;\n\n  if (!name) {\n    return;\n  }\n\n  let nextParent;\n\n  if (parent.children) {\n    nextParent = parent.children.filter(c => c.name === name)[0];\n  } else {\n    parent.children = [];\n  }\n\n  if (!nextParent) {\n    nextParent = {\n      name\n    };\n    parent.children.push(nextParent);\n  }\n\n  buildHierarchInDepth(nextParent, rest);\n}\n\n/**\n * build hierarchical structure:\n *\n * {name: '{name}': children: [...]}\n *\n * which is valid for d3.hierarchy\n * from timemap site data\n *\n * @param fields -\n * @param data - source\n * @param targetField - which field we use to create hierarchy\n *\n * @returns {Object}\n */\nexport function buildHierarchy (fields, data, { targetField }) {\n  return data.reduce((res, row) => {\n    const value = fields.getValueByName(row, targetField);\n    const [host, ...path] = value.split('/');\n    res.name = surtToUrl(host);\n    buildHierarchInDepth(res, path);\n    return res;\n  }, {});\n}\n","/**\n * get SURT (Sort-friendly URI Reordering Transform)\n * https://github.com/internetarchive/surt\n * and convert it back to URL\n *\n * [!] current implementation works only with host part of SURT\n *\n * @param surt\n * @returns {String}\n */\nexport function surtToUrl (surt) {\n  if (!surt) {\n    return surt;\n  }\n  // drop last ')'\n  surt = surt.slice(0, surt.length - 1);\n  return surt.split(',').reverse().join('.');\n}\n","import _ from 'lodash';\n\n/**\n * extract fields from time map data\n *\n */\nexport class Fields {\n  constructor (data) {\n    this.fields = data[0];\n    this.getIndexByName = _.memoize(this.getIndexByName);\n  }\n\n  /**\n   * get index of field by name\n   *\n   * @param name\n   */\n  getIndexByName (name) {\n    return this.fields.indexOf(name);\n  }\n\n  /**\n   * get value of field in row by name\n   *\n   * @param row\n   * @param name\n   * @returns {*}\n   */\n  getValueByName (row, name) {\n    return row[this.getIndexByName(name)];\n  }\n}\n\n/**\n * get all sorted years from grouped time map data\n *\n * @param data time map data\n * @returns {Array} years\n */\nexport function extractYearsFromGroupedTimeMap (data) {\n  if (!data) {\n    return data;\n  }\n\n  return Object.keys(data).sort();\n}\n\n/**\n * data processing pipeline for time map:\n *\n * [[<keys>], [values]....[values]]\n *\n * - group by one field\n * - dedup by another field\n * - order by one field\n *\n * @param data timemap format\n * @param groupBy\n * @param dedupBy\n * @param orderBy\n *\n * @return processed data\n */\nexport function processTimeMap (data, { groupBy, dedupBy, orderBy } = {}) {\n  if (!data) {\n    return data;\n  }\n  const fields = new Fields(data);\n  const res = data\n    .slice(1)\n    .reduce((result, row) => {\n      const oneGroup = result[fields.getValueByName(row, groupBy)] || {};\n\n      // don't add if we already have it\n      if (!oneGroup[fields.getValueByName(row, dedupBy)]) {\n        oneGroup[fields.getValueByName(row, dedupBy)] = row;\n      }\n\n      result[fields.getValueByName(row, groupBy)] = oneGroup;\n      return result;\n    }, {});\n\n  // if someday we would get bad performance here\n  // we could make insertion with sorthing above\n  return _(res)\n    .mapValues(value => Object.values(value))\n    .mapValues(value => _.sortBy(value, fields.getIndexByName(orderBy)))\n    .value();\n}\n","import * as d3 from 'd3';\n\nconst arc = d3.arc()\n  .startAngle(d => d.x0)\n  .endAngle(d => d.x1)\n  .innerRadius(d => Math.sqrt(d.y0))\n  .outerRadius(d => Math.sqrt(d.y1));\n\nconst colors = d3.scaleOrdinal(d3.schemePaired);\n\n/**\n * Render d3.hierarchy from passed hierarchical data\n *\n * @param element\n * @param vis\n * @param radius\n * @param baseURL\n * @param currentYear\n * @param data\n */\nexport function createVisualization (element, vis, radius, baseURL, currentYear, data) {\n  const partition = d3.partition()\n    .size([2 * Math.PI, radius * radius]);\n\n  // append 'root' we will exclude it on rendering\n  const root = d3.hierarchy({ children: [data] })\n    .sum(d => !d.children)\n    .sort((a, b) => b.value - a.value);\n\n  const nodes = partition(root).descendants();\n\n  vis.selectAll('path')\n    .data(nodes)\n    .enter()\n    .append('a')\n    .attr('xlink:href', currentUrl)\n    .on('touchstart', touchStart)\n    .append('svg:path')\n    .attr('display', d => d.depth ? null : 'none')\n    .attr('d', arc)\n    .attr('fill-rule', 'evenodd')\n    .style('fill', d => colors((d.children ? d : d.parent).data.name))\n    .style('opacity', 1)\n    .style('cursor', 'pointer')\n    .on('mouseover', mouseover);\n\n  d3.select('#d3_container')\n    .on('mouseleave', mouseleave);\n\n  /** on mobile devices, touching the RadialTree prevents the ``click``\n   *  event and shows the URL like on ``mouseover`` event. Users can click\n   *  on the URL to visit the target page */\n  function touchStart (e, d) {\n    e.preventDefault();\n    e.stopPropagation();\n    mouseover(d);\n    return false;\n  }\n\n  function currentUrl (d) {\n    // TODO skip the reverse to speed it up.\n    const anc = d.ancestors().reverse();\n    let url = '';\n    for (let i = 1; i < anc.length; i++) {\n      if (anc[i].data.name === 'end') {\n        break;\n      }\n      url = url + '/' + anc[i].data.name;\n    }\n    return `${baseURL}/web/${currentYear}0630${url}`;\n  }\n\n  function mouseover (e, d) {\n    const sequenceArray = d.ancestors().reverse();\n    sequenceArray.shift();\n    const url = currentUrl(d);\n    updateBreadcrumbs(sequenceArray, url);\n    d3.selectAll('path').style('opacity', 0.3);\n\n    vis.selectAll('path')\n      .filter(node => sequenceArray.indexOf(node) >= 0)\n      .style('opacity', 1);\n  }\n\n  function mouseleave () {\n    element.querySelector('.sequence').innerHTML = '';\n\n    d3.selectAll('path')\n      .on('mouseover', null);\n\n    d3.selectAll('path')\n      .transition()\n      .style('opacity', 1)\n      .on('end', function () {\n        d3.select(this).on('mouseover', mouseover);\n      });\n  }\n\n  function updateBreadcrumbs (nodeArray, url) {\n    let text = '';\n    const symb = document.createElement('span');\n    symb.setAttribute('class', 'symb');\n    symb.innerHTML = '/';\n    for (let i = 0; i < nodeArray.length; i++) {\n      if (i === 0) {\n        text = ' ' + nodeArray[i].data.name;\n      } else {\n        text = text + symb.innerHTML + nodeArray[i].data.name;\n      }\n    }\n    text = decodeURIComponent(text);\n    element.querySelector('.sequence').innerHTML = `<a href=\"${url}\">${text}</a>`;\n  }\n}\n","import { renderYearButton, getYearByBtn } from './year-button';\n\nexport function renderYearButtons (element, allYears, onYearSelect) {\n  const divBtn = element.querySelector('.div-btn');\n  divBtn.onclick = (evt) => onYearSelect(getYearByBtn(evt.target));\n\n  if (!element.querySelector('.year-btn')) {\n    allYears.forEach(year =>\n      divBtn.appendChild(renderYearButton(year))\n    );\n  }\n}\n","export function renderYearButton (year) {\n  const btn = document.createElement('button');\n  btn.setAttribute('class', 'year-btn');\n  btn.setAttribute('id', year);\n  btn.innerHTML = year;\n  return btn;\n}\n\nexport function getYearByBtn (btn) {\n  return btn.id;\n}\n\nexport function getButtonByYear (container, year) {\n  return container.ownerDocument.getElementById(year);\n}\n","import * as d3 from 'd3';\nimport {\n  buildHierarchy, extractYearsFromGroupedTimeMap, Fields, processTimeMap\n} from './processing';\nimport {\n  createVisualization, getButtonByYear, renderContainer, renderYearButtons\n} from './rendering';\n\n/**\n * Radial Tree Library\n *\n * @param {DOMElement} element\n * @param {Array} cdxData: decoded CDX Query data retrieved by:\n ``/web/timemap/json?url=example.com/&fl=timestamp:4,urlkey&matchType=prefix\n &filter=statuscode:200&filter=mimetype:text/html&collapse=urlkey\n &collapse=timestamp:4&limit=100000``.\n * @param {Object} [options]\n * Option baseURL defines the target Wayback Machine server.\n *\n */\nexport function RadialTree (element, cdxData, options = {}) {\n  const baseURL = options.baseURL || 'https://web.archive.org';\n\n  // render\n  const container = renderContainer();\n  element.appendChild(container);\n\n  const fields = new Fields(cdxData);\n  const urlsByYear = processTimeMap(cdxData, {\n    groupBy: 'timestamp:4',\n    dedupBy: 'urlkey',\n    orderBy: 'urlkey'\n  });\n  const years = extractYearsFromGroupedTimeMap(urlsByYear);\n\n  renderYearButtons(element, years, selectYear);\n\n  // highlight the 2nd last year if available, else hightlight the last.\n  // necessary because the last year may not have much data.\n  // const lastButOneYear = allYears[allYears.length - 2] || allYears[0];\n  const selectedBtn = years[years.length - 2] || years[0];\n  selectYear(selectedBtn);\n\n  function selectYear (year) {\n    // hide active button\n    if (element.querySelector('.active-btn')) {\n      element.querySelector('.active-btn').classList.remove('active-btn');\n    }\n\n    // show active button\n    const btn = getButtonByYear(element, year);\n    if (btn) {\n      btn.classList.add('active-btn');\n    }\n\n    renderChart(element, year);\n  }\n\n  function renderChart (element, currentYear) {\n    element.querySelector('.sequence').innerHTML = '';\n    element.querySelector('#chart').innerHTML = '';\n\n    const width = element.querySelector('#chart').offsetWidth;\n    const height = width;\n    const radius = Math.min(width, height) / 2;\n\n    const vis = d3.select('#chart')\n      .append('svg:svg')\n      .attr('width', width)\n      .attr('height', height)\n      .append('svg:g')\n      .attr('id', 'd3_container')\n      .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n\n    vis.append('svg:circle')\n      .attr('r', radius)\n      .style('opacity', 0);\n\n    const urls = urlsByYear[currentYear];\n    const hierarchy = buildHierarchy(fields, urls, {\n      targetField: 'urlkey'\n    });\n\n    createVisualization(element, vis, radius, baseURL, currentYear, hierarchy);\n  }\n}\n","export function renderContainer () {\n  const content = document.createElement('div');\n  content.setAttribute('class', 'rt-content');\n  const divBtn = document.createElement('div');\n  divBtn.setAttribute('class', 'div-btn');\n\n  const sequence = document.createElement('p');\n  sequence.setAttribute('class', 'sequence');\n  const chart = document.createElement('div');\n  chart.setAttribute('id', 'chart');\n  content.appendChild(divBtn);\n  content.appendChild(sequence);\n  content.appendChild(chart);\n  content.style.display = 'block';\n  return content;\n}\n"],"names":["buildHierarchInDepth","parent","path","length","nextParent","_path","_toArray","name","rest","slice","children","filter","c","push","buildHierarchy","fields","data","_ref","targetField","reduce","res","row","surt","_value$split2","getValueByName","split","host","reverse","join","Fields","_classCallCheck","this","getIndexByName","_","memoize","key","value","indexOf","arc","d3","startAngle","d","x0","endAngle","x1","innerRadius","Math","sqrt","y0","outerRadius","y1","colors","scaleOrdinal","schemePaired","createVisualization","element","vis","radius","baseURL","currentYear","nodes","partition","size","PI","hierarchy","sum","sort","a","b","descendants","currentUrl","anc","ancestors","url","i","concat","mouseover","e","sequenceArray","shift","nodeArray","text","symb","document","createElement","setAttribute","innerHTML","decodeURIComponent","querySelector","updateBreadcrumbs","selectAll","style","node","enter","append","attr","on","preventDefault","stopPropagation","depth","select","transition","renderYearButtons","allYears","onYearSelect","divBtn","onclick","evt","target","id","forEach","year","appendChild","btn","renderYearButton","cdxData","arguments","undefined","container","content","sequence","chart","display","renderContainer","urlsByYear","groupBy","dedupBy","orderBy","result","oneGroup","mapValues","Object","values","sortBy","processTimeMap","years","keys","selectYear","classList","remove","ownerDocument","getElementById","getButtonByYear","add","width","offsetWidth","height","min","urls","renderChart"],"mappings":"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"}